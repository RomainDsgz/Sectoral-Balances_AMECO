labels = c("Private sector", "Public Sector", "Rest of the World")) +
labs(x = "Year", y = "Net lending - Net borrowing", fill = "Balances") +
theme_minimal() +
scale_x_continuous(breaks = seq(1995, 2022, by = 5)) +
theme(legend.position = "bottom") +
guides(fill = guide_legend(nrow=1)) +
labs(title = "Sectoral balances",
subtitle = "Switzerland, 1995-2022",
caption = "Source: AMECO") +
###
# Here I am adding a geom_vline for the Swiss sectoral balances, due to the introduction of the debt brake in 2003
## The debt brake aims at stabilizing revenues and expenses of the federal state over the medium run.
### It also explains the surpluses of the public sector between 2006 and 2019.
geom_vline(xintercept = 2003, linetype = "dotted", color="black", linewidth = 1) +
geom_text(aes(x = 2003, y = Inf, label = " 2003: Introduction of the Debt Brake"), vjust =0.9, hjust = -0.8, color = "black")
print(plot_3sectors)
plot_3sectors <- ggplot() +
geom_bar(data = subset(melted_df, year >= 1995 & year<=2022), aes(x = year, y = value, fill = variable), stat = "identity") +
scale_fill_manual(values = colors3,
labels = c("Private sector", "Public Sector", "Rest of the World")) +
labs(x = "Year", y = "Net lending - Net borrowing", fill = "Balances") +
theme_minimal() +
scale_x_continuous(breaks = seq(1995, 2022, by = 5)) +
theme(legend.position = "bottom") +
guides(fill = guide_legend(nrow=1)) +
labs(title = "Sectoral balances",
subtitle = "Switzerland, 1995-2022",
caption = "Source: AMECO") +
###
# Here I am adding a geom_vline for the Swiss sectoral balances, due to the introduction of the debt brake in 2003
## The debt brake aims at stabilizing revenues and expenses of the federal state over the medium run.
### It also explains the surpluses of the public sector between 2006 and 2019.
geom_vline(xintercept = 2003, linetype = "dotted", color="black", linewidth = 1) +
geom_text(aes(x = 2003, y = Inf, label = " 2003: Introduction of the Debt Brake"), vjust =0.9, hjust = -1.2, color = "black")
print(plot_3sectors)
plot_3sectors <- ggplot() +
geom_bar(data = subset(melted_df, year >= 1995 & year<=2022), aes(x = year, y = value, fill = variable), stat = "identity") +
scale_fill_manual(values = colors3,
labels = c("Private sector", "Public Sector", "Rest of the World")) +
labs(x = "Year", y = "Net lending - Net borrowing", fill = "Balances") +
theme_minimal() +
scale_x_continuous(breaks = seq(1995, 2022, by = 5)) +
theme(legend.position = "bottom") +
guides(fill = guide_legend(nrow=1)) +
labs(title = "Sectoral balances",
subtitle = "Switzerland, 1995-2022",
caption = "Source: AMECO") +
###
# Here I am adding a geom_vline for the Swiss sectoral balances, due to the introduction of the debt brake in 2003
## The debt brake aims at stabilizing revenues and expenses of the federal state over the medium run.
### It also explains the surpluses of the public sector between 2006 and 2019.
geom_vline(xintercept = 2003, linetype = "dotted", color="black", linewidth = 1) +
geom_text(aes(x = 2003, y = Inf, label = " 2003: Introduction of the Debt Brake"), vjust =0.9, hjust = 0, color = "black")
print(plot_3sectors)
plot_3sectors <- ggplot() +
geom_bar(data = subset(melted_df, year >= 1995 & year<=2022), aes(x = year, y = value, fill = variable), stat = "identity") +
scale_fill_manual(values = colors3,
labels = c("Private sector", "Public Sector", "Rest of the World")) +
labs(x = "Year", y = "Net lending - Net borrowing", fill = "Balances") +
theme_minimal() +
scale_x_continuous(breaks = seq(1995, 2022, by = 5)) +
theme(legend.position = "bottom") +
guides(fill = guide_legend(nrow=1)) +
labs(title = "Sectoral balances",
subtitle = "Switzerland, 1995-2022",
caption = "Source: AMECO") +
###
# Here I am adding a geom_vline for the Swiss sectoral balances, due to the introduction of the debt brake in 2003
## The debt brake aims at stabilizing revenues and expenses of the federal state over the medium run.
### It also explains the surpluses of the public sector between 2006 and 2019.
geom_vline(xintercept = 2003, linetype = "dotted", color="black", linewidth = 1) +
geom_text(aes(x = 2003, y = Inf, label = " 2003: Introduction of the Debt Brake"), vjust =0.9, hjust = -0.1, color = "black")
print(plot_3sectors)
plot_3sectors <- ggplot() +
geom_bar(data = subset(melted_df, year >= 1995 & year<=2022), aes(x = year, y = value, fill = variable), stat = "identity") +
scale_fill_manual(values = colors3,
labels = c("Private sector", "Public Sector", "Rest of the World")) +
labs(x = "Year", y = "Net lending - Net borrowing", fill = "Balances") +
theme_minimal() +
scale_x_continuous(breaks = seq(1995, 2022, by = 5)) +
theme(legend.position = "bottom") +
guides(fill = guide_legend(nrow=1)) +
labs(title = "Sectoral balances",
subtitle = "Switzerland, 1995-2022",
caption = "Source: AMECO") +
###
# Here I am adding a geom_vline for the Swiss sectoral balances, due to the introduction of the debt brake in 2003
## The debt brake aims at stabilizing revenues and expenses of the federal state over the medium run.
### It also explains the surpluses of the public sector between 2006 and 2019.
geom_vline(xintercept = 2003, linetype = "dotted", color="black", linewidth = 1) +
geom_text(aes(x = 2003, y = Inf, label = " 2003: Introduction of the Debt Brake"), vjust =0.9, hjust = -0.05, color = "black")
print(plot_3sectors)
plot_3sectors <- ggplot() +
geom_bar(data = subset(melted_df, year >= 1995 & year<=2022), aes(x = year, y = value, fill = variable), stat = "identity") +
scale_fill_manual(values = colors3,
labels = c("Private sector", "Public Sector", "Rest of the World")) +
labs(x = "Year", y = "Net lending - Net borrowing", fill = "Balances") +
theme_minimal() +
scale_x_continuous(breaks = seq(1995, 2022, by = 5)) +
theme(legend.position = "bottom") +
guides(fill = guide_legend(nrow=1)) +
labs(title = "Sectoral balances",
subtitle = "Switzerland, 1995-2022",
caption = "Source: AMECO") +
###
# Here I am adding a geom_vline for the Swiss sectoral balances, due to the introduction of the debt brake in 2003
## The debt brake aims at stabilizing revenues and expenses of the federal state over the medium run.
### It also explains the surpluses of the public sector between 2006 and 2019.
geom_vline(xintercept = 2003, linetype = "dotted", color="black", linewidth = 1) +
geom_text(aes(x = 2003, y = Inf, label = " 2003: Introduction of the Debt Brake"), vjust =0.85, hjust = -0.05, color = "black")
print(plot_3sectors)
print(plot_3sectors)
ggsave("plot_3sectors.jpg", width = 4.9, height = 3.5)
ggsave("plot_3sectorsCHE.jpg", width = 4.9, height = 3.5)
ggsave("plot_3sectorsCHE.jpg", width = 4.9, height = 5)
ggsave("plot_3sectorsCHE.jpg", width = 20, height = 15)
ggsave("plot_3sectorsCHE.jpg")
plot_3sectors <- ggplot() +
geom_bar(data = subset(melted_df, year >= 1995 & year<=2022), aes(x = year, y = value, fill = variable), stat = "identity") +
scale_fill_manual(values = colors3,
labels = c("Private sector", "Public Sector", "Rest of the World")) +
labs(x = "Year", y = "Net lending - Net borrowing", fill = "Balances") +
theme_minimal() +
scale_x_continuous(breaks = seq(1995, 2022, by = 5)) +
theme(legend.position = "bottom") +
guides(fill = guide_legend(nrow=1)) +
labs(title = "Sectoral balances",
subtitle = "Switzerland, 1995-2022",
caption = "Source: AMECO") +
###
# Here I am adding a geom_vline for the Swiss sectoral balances, due to the introduction of the debt brake in 2003
## The debt brake aims at stabilizing revenues and expenses of the federal state over the medium run.
### It also explains the surpluses of the public sector between 2006 and 2019.
geom_vline(xintercept = 2003, linetype = "dotted", color="black", linewidth = 1) +
geom_text(aes(x = 2003, y = Inf, label = " 2003: Introduction of the Debt Brake"), vjust =1, hjust = -0.05, color = "black")
print(plot_3sectors)
plot_3sectors <- ggplot() +
geom_bar(data = subset(melted_df, year >= 1995 & year<=2022), aes(x = year, y = value, fill = variable), stat = "identity") +
scale_fill_manual(values = colors3,
labels = c("Private sector", "Public Sector", "Rest of the World")) +
labs(x = "Year", y = "Net lending - Net borrowing", fill = "Balances") +
theme_minimal() +
scale_x_continuous(breaks = seq(1995, 2022, by = 5)) +
theme(legend.position = "bottom") +
guides(fill = guide_legend(nrow=1)) +
labs(title = "Sectoral balances",
subtitle = "Switzerland, 1995-2022",
caption = "Source: AMECO") +
###
# Here I am adding a geom_vline for the Swiss sectoral balances, due to the introduction of the debt brake in 2003
## The debt brake aims at stabilizing revenues and expenses of the federal state over the medium run.
### It also explains the surpluses of the public sector between 2006 and 2019.
geom_vline(xintercept = 2003, linetype = "dotted", color="black", linewidth = 1) +
geom_text(aes(x = 2003, y = Inf, label = "2003: Introduction of the Debt Brake"), vjust =1, hjust = -0.1, color = "black")
print(plot_3sectors)
plot_3sectors <- ggplot() +
geom_bar(data = subset(melted_df, year >= 1995 & year<=2022), aes(x = year, y = value, fill = variable), stat = "identity") +
scale_fill_manual(values = colors3,
labels = c("Private sector", "Public Sector", "Rest of the World")) +
labs(x = "Year", y = "Net lending - Net borrowing", fill = "Balances") +
theme_minimal() +
scale_x_continuous(breaks = seq(1995, 2022, by = 5)) +
theme(legend.position = "bottom") +
guides(fill = guide_legend(nrow=1)) +
labs(title = "Sectoral balances",
subtitle = "Switzerland, 1995-2022",
caption = "Source: AMECO") +
###
# Here I am adding a geom_vline for the Swiss sectoral balances, due to the introduction of the debt brake in 2003
## The debt brake aims at stabilizing revenues and expenses of the federal state over the medium run.
### It also explains the surpluses of the public sector between 2006 and 2019.
geom_vline(xintercept = 2003, linetype = "dotted", color="black", linewidth = 1) +
geom_text(aes(x = 2003, y = Inf, label = "2003: Introduction of the Debt Brake"), vjust =1, hjust = -0.3, color = "black")
print(plot_3sectors)
plot_3sectors <- ggplot() +
geom_bar(data = subset(melted_df, year >= 1995 & year<=2022), aes(x = year, y = value, fill = variable), stat = "identity") +
scale_fill_manual(values = colors3,
labels = c("Private sector", "Public Sector", "Rest of the World")) +
labs(x = "Year", y = "Net lending - Net borrowing", fill = "Balances") +
theme_minimal() +
scale_x_continuous(breaks = seq(1995, 2022, by = 5)) +
theme(legend.position = "bottom") +
guides(fill = guide_legend(nrow=1)) +
labs(title = "Sectoral balances",
subtitle = "Switzerland, 1995-2022",
caption = "Source: AMECO") +
###
# Here I am adding a geom_vline for the Swiss sectoral balances, due to the introduction of the debt brake in 2003
## The debt brake aims at stabilizing revenues and expenses of the federal state over the medium run.
### It also explains the surpluses of the public sector between 2006 and 2019.
geom_vline(xintercept = 2003, linetype = "dotted", color="black", linewidth = 1) +
geom_text(aes(x = 2003, y = Inf, label = "2003: Introduction of the Debt Brake"), vjust =1, hjust = 1, color = "black")
print(plot_3sectors)
plot_3sectors <- ggplot() +
geom_bar(data = subset(melted_df, year >= 1995 & year<=2022), aes(x = year, y = value, fill = variable), stat = "identity") +
scale_fill_manual(values = colors3,
labels = c("Private sector", "Public Sector", "Rest of the World")) +
labs(x = "Year", y = "Net lending - Net borrowing", fill = "Balances") +
theme_minimal() +
scale_x_continuous(breaks = seq(1995, 2022, by = 5)) +
theme(legend.position = "bottom") +
guides(fill = guide_legend(nrow=1)) +
labs(title = "Sectoral balances",
subtitle = "Switzerland, 1995-2022",
caption = "Source: AMECO") +
###
# Here I am adding a geom_vline for the Swiss sectoral balances, due to the introduction of the debt brake in 2003
## The debt brake aims at stabilizing revenues and expenses of the federal state over the medium run.
### It also explains the surpluses of the public sector between 2006 and 2019.
geom_vline(xintercept = 2003, linetype = "dotted", color="black", linewidth = 1) +
geom_text(aes(x = 2003, y = Inf, label = "2003: Introduction of the Debt Brake"), vjust =1, hjust = 0.2, color = "black")
print(plot_3sectors)
plot_3sectors <- ggplot() +
geom_bar(data = subset(melted_df, year >= 1995 & year<=2022), aes(x = year, y = value, fill = variable), stat = "identity") +
scale_fill_manual(values = colors3,
labels = c("Private sector", "Public Sector", "Rest of the World")) +
labs(x = "Year", y = "Net lending - Net borrowing", fill = "Balances") +
theme_minimal() +
scale_x_continuous(breaks = seq(1995, 2022, by = 5)) +
theme(legend.position = "bottom") +
guides(fill = guide_legend(nrow=1)) +
labs(title = "Sectoral balances",
subtitle = "Switzerland, 1995-2022",
caption = "Source: AMECO") +
###
# Here I am adding a geom_vline for the Swiss sectoral balances, due to the introduction of the debt brake in 2003
## The debt brake aims at stabilizing revenues and expenses of the federal state over the medium run.
### It also explains the surpluses of the public sector between 2006 and 2019.
geom_vline(xintercept = 2003, linetype = "dotted", color="black", linewidth = 1) +
geom_text(aes(x = 2003, y = Inf, label = "2003: Introduction of the Debt Brake"), vjust =1, hjust = 0.21, color = "black")
print(plot_3sectors)
plot_3sectors <- ggplot() +
geom_bar(data = subset(melted_df, year >= 1995 & year<=2022), aes(x = year, y = value, fill = variable), stat = "identity") +
scale_fill_manual(values = colors3,
labels = c("Private sector", "Public Sector", "Rest of the World")) +
labs(x = "Year", y = "Net lending - Net borrowing", fill = "Balances") +
theme_minimal() +
scale_x_continuous(breaks = seq(1995, 2022, by = 5)) +
theme(legend.position = "bottom") +
guides(fill = guide_legend(nrow=1)) +
labs(title = "Sectoral balances",
subtitle = "Switzerland, 1995-2022",
caption = "Source: AMECO") +
###
# Here I am adding a geom_vline for the Swiss sectoral balances, due to the introduction of the debt brake in 2003
## The debt brake aims at stabilizing revenues and expenses of the federal state over the medium run.
### It also explains the surpluses of the public sector between 2006 and 2019.
geom_vline(xintercept = 2003, linetype = "dotted", color="black", linewidth = 1) +
geom_text(aes(x = 2003, y = Inf, label = "2003: Introduction of the Debt Brake"), vjust =1, hjust = 0.18, color = "black")
print(plot_3sectors)
plot_3sectors <- ggplot() +
geom_bar(data = subset(melted_df, year >= 1995 & year<=2022), aes(x = year, y = value, fill = variable), stat = "identity") +
scale_fill_manual(values = colors3,
labels = c("Private sector", "Public Sector", "Rest of the World")) +
labs(x = "Year", y = "Net lending - Net borrowing", fill = "Balances") +
theme_minimal() +
scale_x_continuous(breaks = seq(1995, 2022, by = 5)) +
theme(legend.position = "bottom") +
guides(fill = guide_legend(nrow=1)) +
labs(title = "Sectoral balances",
subtitle = "Switzerland, 1995-2022",
caption = "Source: AMECO") +
###
# Here I am adding a geom_vline for the Swiss sectoral balances, due to the introduction of the debt brake in 2003
## The debt brake aims at stabilizing revenues and expenses of the federal state over the medium run.
### It also explains the surpluses of the public sector between 2006 and 2019.
geom_vline(xintercept = 2003, linetype = "dotted", color="black", linewidth = 1) +
geom_text(aes(x = 2003, y = Inf, label = "2003: Introduction of the Debt Brake"), vjust =1, hjust = 0.15, color = "black")
print(plot_3sectors)
plot_3sectors <- ggplot() +
geom_bar(data = subset(melted_df, year >= 1995 & year<=2022), aes(x = year, y = value, fill = variable), stat = "identity") +
scale_fill_manual(values = colors3,
labels = c("Private sector", "Public Sector", "Rest of the World")) +
labs(x = "Year", y = "Net lending - Net borrowing", fill = "Balances") +
theme_minimal() +
scale_x_continuous(breaks = seq(1995, 2022, by = 5)) +
theme(legend.position = "bottom") +
guides(fill = guide_legend(nrow=1)) +
labs(title = "Sectoral balances",
subtitle = "Switzerland, 1995-2022",
caption = "Source: AMECO") +
###
# Here I am adding a geom_vline for the Swiss sectoral balances, due to the introduction of the debt brake in 2003
## The debt brake aims at stabilizing revenues and expenses of the federal state over the medium run.
### It also explains the surpluses of the public sector between 2006 and 2019.
geom_vline(xintercept = 2003, linetype = "dotted", color="black", linewidth = 1) +
geom_text(aes(x = 2003, y = Inf, label = "2003: Introduction of the Debt Brake"), color = "black")
print(plot_3sectors)
plot_3sectors <- ggplot() +
geom_bar(data = subset(melted_df, year >= 1995 & year<=2022), aes(x = year, y = value, fill = variable), stat = "identity") +
scale_fill_manual(values = colors3,
labels = c("Private sector", "Public Sector", "Rest of the World")) +
labs(x = "Year", y = "Net lending - Net borrowing", fill = "Balances") +
theme_minimal() +
scale_x_continuous(breaks = seq(1995, 2022, by = 5)) +
theme(legend.position = "bottom") +
guides(fill = guide_legend(nrow=1)) +
labs(title = "Sectoral balances",
subtitle = "Switzerland, 1995-2022",
caption = "Source: AMECO") +
###
# Here I am adding a geom_vline for the Swiss sectoral balances, due to the introduction of the debt brake in 2003
## The debt brake aims at stabilizing revenues and expenses of the federal state over the medium run.
### It also explains the surpluses of the public sector between 2006 and 2019.
geom_vline(xintercept = 2003, linetype = "dotted", color="black", linewidth = 1, show_guide=TRUE)
#geom_text(aes(x = 2003, y = Inf, label = "2003: Introduction of the Debt Brake"), vjust =1, hjust = 0.15, color = "black")
print(plot_3sectors)
plot_3sectors <- ggplot() +
geom_bar(data = subset(melted_df, year >= 1995 & year<=2022), aes(x = year, y = value, fill = variable), stat = "identity") +
scale_fill_manual(values = colors3,
labels = c("Private sector", "Public Sector", "Rest of the World")) +
labs(x = "Year", y = "Net lending - Net borrowing", fill = "Balances") +
theme_minimal() +
scale_x_continuous(breaks = seq(1995, 2022, by = 5)) +
theme(legend.position = "bottom") +
guides(fill = guide_legend(nrow=1)) +
labs(title = "Sectoral balances",
subtitle = "Switzerland, 1995-2022",
caption = "Source: AMECO") +
###
# Here I am adding a geom_vline for the Swiss sectoral balances, due to the introduction of the debt brake in 2003
## The debt brake aims at stabilizing revenues and expenses of the federal state over the medium run.
### It also explains the surpluses of the public sector between 2006 and 2019.
geom_vline(xintercept = 2003, linetype = "dotted", color="black", linewidth = 1) +
geom_text(aes(x = 2003, y = Inf, label = "2003: Introduction of the Debt Brake"), vjust =1, hjust = 0.15, color = "black")
print(plot_3sectors)
plot_3sectors <- ggplot() +
geom_bar(data = subset(melted_df, year >= 1995 & year<=2022), aes(x = year, y = value, fill = variable), stat = "identity") +
scale_fill_manual(values = colors3,
labels = c("Private sector", "Public Sector", "Rest of the World")) +
labs(x = "Year", y = "Net lending - Net borrowing", fill = "Balances") +
theme_minimal() +
scale_x_continuous(breaks = seq(1995, 2022, by = 5)) +
theme(legend.position = "bottom") +
guides(fill = guide_legend(nrow=1)) +
labs(title = "Sectoral balances",
subtitle = "Switzerland, 1995-2022",
caption = "Source: AMECO") +
###
# Here I am adding a geom_vline for the Swiss sectoral balances, due to the introduction of the debt brake in 2003
## The debt brake aims at stabilizing revenues and expenses of the federal state over the medium run.
### It also explains the surpluses of the public sector between 2006 and 2019.
geom_vline(xintercept = 2003, linetype = "dotted", color="black", linewidth = 1) +
geom_text(aes(x = 2003, y = Inf, label = "Introduction of the Debt Brake"), vjust =1, hjust = 0.15, color = "black")
print(plot_3sectors)
plot_3sectors <- ggplot() +
geom_bar(data = subset(melted_df, year >= 1995 & year<=2022), aes(x = year, y = value, fill = variable), stat = "identity") +
scale_fill_manual(values = colors3,
labels = c("Private sector", "Public Sector", "Rest of the World")) +
labs(x = "Year", y = "Net lending - Net borrowing", fill = "Balances") +
theme_minimal() +
scale_x_continuous(breaks = seq(1995, 2022, by = 5)) +
theme(legend.position = "bottom") +
guides(fill = guide_legend(nrow=1)) +
labs(title = "Sectoral balances",
subtitle = "Switzerland, 1995-2022",
caption = "Source: AMECO") +
###
# Here I am adding a geom_vline for the Swiss sectoral balances, due to the introduction of the debt brake in 2003
## The debt brake aims at stabilizing revenues and expenses of the federal state over the medium run.
### It also explains the surpluses of the public sector between 2006 and 2019.
geom_vline(xintercept = 2003, linetype = "dotted", color="black", linewidth = 1) +
geom_text(aes(x = 2003, y = Inf, label = "Introduction of the Debt Brake"), vjust =1, hjust = -0.15, color = "black")
print(plot_3sectors)
plot_3sectors <- ggplot() +
geom_bar(data = subset(melted_df, year >= 1995 & year<=2022), aes(x = year, y = value, fill = variable), stat = "identity") +
scale_fill_manual(values = colors3,
labels = c("Private sector", "Public Sector", "Rest of the World")) +
labs(x = "Year", y = "Net lending - Net borrowing", fill = "Balances") +
theme_minimal() +
scale_x_continuous(breaks = seq(1995, 2022, by = 5)) +
theme(legend.position = "bottom") +
guides(fill = guide_legend(nrow=1)) +
labs(title = "Sectoral balances",
subtitle = "Switzerland, 1995-2022",
caption = "Source: AMECO") +
###
# Here I am adding a geom_vline for the Swiss sectoral balances, due to the introduction of the debt brake in 2003
## The debt brake aims at stabilizing revenues and expenses of the federal state over the medium run.
### It also explains the surpluses of the public sector between 2006 and 2019.
geom_vline(xintercept = 2003, linetype = "dotted", color="black", linewidth = 1) +
geom_text(aes(x = 2003, y = Inf, label = "Introduction of the Debt Brake"), vjust =1, hjust = -0.10, color = "black")
print(plot_3sectors)
plot_3sectors <- ggplot() +
geom_bar(data = subset(melted_df, year >= 1995 & year<=2022), aes(x = year, y = value, fill = variable), stat = "identity") +
scale_fill_manual(values = colors3,
labels = c("Private sector", "Public Sector", "Rest of the World")) +
labs(x = "Year", y = "Net lending - Net borrowing", fill = "Balances") +
theme_minimal() +
scale_x_continuous(breaks = seq(1995, 2022, by = 5)) +
theme(legend.position = "bottom") +
guides(fill = guide_legend(nrow=1)) +
labs(title = "Sectoral balances",
subtitle = "Switzerland, 1995-2022",
caption = "Source: AMECO") +
###
# Here I am adding a geom_vline for the Swiss sectoral balances, due to the introduction of the debt brake in 2003
## The debt brake aims at stabilizing revenues and expenses of the federal state over the medium run.
### It also explains the surpluses of the public sector between 2006 and 2019.
geom_vline(xintercept = 2003, linetype = "dotted", color="black", linewidth = 1) +
geom_text(aes(x = 2003, y = Inf, label = "Introduction of the Debt Brake"), vjust =1, hjust = -0.07, color = "black")
print(plot_3sectors)
ggsave("plot_3sectorsCHE.jpg")
print(plot_3sectors)
ggsave("plot_3sectorsCHE.jpg")
ggsave("plot_3sectorsCHE.pdf")
# Obtaining and cleaning the data
# Manually download .txt zip from https://ec.europa.eu/info/business-economy-euro/indicators-statistics/economic-databases/macro-economic-database-ameco/download-annual-data-set-macro-economic-database-ameco_en
#
files <- dir("C:/Users/rdesg/Documents/Sectoral-Balances/ameco0", ".TXT", full.names = TRUE))
# Obtaining and cleaning the data
# Manually download .txt zip from https://ec.europa.eu/info/business-economy-euro/indicators-statistics/economic-databases/macro-economic-database-ameco/download-annual-data-set-macro-economic-database-ameco_en
#
files <- dir("C:/Users/rdesg/Documents/Sectoral-Balances/ameco0", ".TXT", full.names = TRUE)
# Load packages for data extraction
install.packages("dplyr", "tidyr", "tibble")
# Load packages for data extraction
install.packages("dplyr", "tidyr", "tibble")
# Load packages for data extraction
install.packages("dplyr")
# Load packages for data extraction
install.packages("tidyr")
# Load packages for data extraction
install.packages("tibble")
install.packages("tibble")
# Load packages for data extraction
install.packages("tibble")
install.packages("tibble")
library(dplyr)
library(tidyr)
library(tibble)
# Obtaining and cleaning the data
# Manually download .txt zip from https://ec.europa.eu/info/business-economy-euro/indicators-statistics/economic-databases/macro-economic-database-ameco/download-annual-data-set-macro-economic-database-ameco_en
#
files <- dir("C:/Users/rdesg/Documents/Sectoral-Balances/ameco0", ".TXT", full.names = TRUE)
# clean environment
rm(list=ls())
# Obtaining and cleaning the data
# Manually download .txt zip from https://ec.europa.eu/info/business-economy-euro/indicators-statistics/economic-databases/macro-economic-database-ameco/download-annual-data-set-macro-economic-database-ameco_en
#
files <- dir("C:/Users/rdesg/Documents/Sectoral-Balances/ameco0", ".TXT", full.names = TRUE)
# Load packages for data extraction
install.packages("tibble")
# Load packages for data extraction
library(dplyr)
library(tidyr)
library(tibble)
# Read files, bind together, clean, save
all_files <- lapply(files, function(file) {
read.table(file, TRUE, ";", fill = TRUE,
stringsAsFactors = FALSE, strip.white = TRUE)
})
ameco <- do.call(rbind, all_files)
ameco <- tibble::as_tibble(ameco)
#Drop stray/empty last column
ameco <- ameco[, -ncol(ameco)]
names(ameco) <- tolower(names(ameco))
# Extract short country names
ameco$cntry <- regmatches(ameco$code, regexpr("^[[:alnum:]+]", ameco$code))
# Convert to long format
ameco <- gather(ameco, key = year, value = value, starts_with("x"))
ameco$year <- gsub("x", "", ameco$year)
ameco$year <- as.numeric(ameco$year)
ameco$value <- suppressWarnings(as.numeric(ameco$value))
# Obtaining and cleaning the data
# Manually download .txt zip from https://ec.europa.eu/info/business-economy-euro/indicators-statistics/economic-databases/macro-economic-database-ameco/download-annual-data-set-macro-economic-database-ameco_en
#
files <- dir("C:/Users/rdesg/Documents/sectoral_balances/ameco0", ".TXT", full.names = TRUE)
# Obtaining and cleaning the data
# Manually download .txt zip from https://ec.europa.eu/info/business-economy-euro/indicators-statistics/economic-databases/macro-economic-database-ameco/download-annual-data-set-macro-economic-database-ameco_en
#
files <- dir("C:/User/rdesg/Documents/sectoral_balances/ameco0", ".TXT", full.names = TRUE)
# Obtaining and cleaning the data
# Manually download .txt zip from https://ec.europa.eu/info/business-economy-euro/indicators-statistics/economic-databases/macro-economic-database-ameco/download-annual-data-set-macro-economic-database-ameco_en
#
files <- dir("C:/Users/rdesg/documents/sectoral_balances/ameco0", ".TXT", full.names = TRUE)
# Obtaining and cleaning the data
# Manually download .txt zip from https://ec.europa.eu/info/business-economy-euro/indicators-statistics/economic-databases/macro-economic-database-ameco/download-annual-data-set-macro-economic-database-ameco_en
#
files <- dir("C:\Users\rdesg\Documents\sectoral_balances\ameco0", ".TXT", full.names = TRUE)
?dir
# Obtaining and cleaning the data
# Manually download .txt zip from https://ec.europa.eu/info/business-economy-euro/indicators-statistics/economic-databases/macro-economic-database-ameco/download-annual-data-set-macro-economic-database-ameco_en
#
files <- dir(path = "C:/Users/rdesg/Documents/Sectoral_Balances/ameco0", ".TXT", full.names = TRUE)
# Obtaining and cleaning the data
# Manually download .txt zip from https://ec.europa.eu/info/business-economy-euro/indicators-statistics/economic-databases/macro-economic-database-ameco/download-annual-data-set-macro-economic-database-ameco_en
#
getwd()
files <- dir(path = "C:/Users/rdesg/Documents/Sectoral-Balances/ameco0", ".TXT", full.names = TRUE)
files <- dir(path = "C:/Users/rdesg/Documents/Sectoral-Balances/ameco0", "*.TXT", full.names = TRUE)
# Read files, bind together, clean, save
all_files <- lapply(files, function(file) {
read.table(file, TRUE, ";", fill = TRUE,
stringsAsFactors = FALSE, strip.white = TRUE)
})
ameco <- do.call(rbind, all_files)
ameco <- tibble::as_tibble(ameco)
#Drop stray/empty last column
ameco <- ameco[, -ncol(ameco)]
names(ameco) <- tolower(names(ameco))
# Extract short country names
ameco$cntry <- regmatches(ameco$code, regexpr("^[[:alnum:]+]", ameco$code))
# Convert to long format
ameco <- gather(ameco, key = year, value = value, starts_with("x"))
ameco$year <- gsub("x", "", ameco$year)
ameco$year <- as.numeric(ameco$year)
ameco$value <- suppressWarnings(as.numeric(ameco$value))
# Load data
load("C:/Users/rdesg/Documents/Sectoral-Balances/ameco.RData")
# Extract data for Switzerland (CHE)
ch <- subset(ameco, country == "Switzerland")
